{"version":3,"sources":["../../../../client/components/ngCart/src/ngCart.directives.js"],"names":[],"mappings":"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","file":"ngCart.directives.js","sourcesContent":["'use strict';\r\n\r\n\r\nangular.module('ngCart.directives', ['ngCart.fulfilment'])\r\n\r\n    .controller('CartController',['$scope', 'ngCart', function($scope, ngCart) {\r\n        $scope.ngCart = ngCart;\r\n    }])\r\n\r\n    .directive('ngcartAddtocart', ['ngCart', function(ngCart){\r\n        return {\r\n            restrict : 'E',\r\n            controller : 'CartController',\r\n            scope: {\r\n                id:'@',\r\n                name:'@',\r\n                quantity:'@',\r\n                quantityMax:'@',\r\n                price:'@',\r\n                data:'='\r\n            },\r\n            transclude: true,\r\n            templateUrl: function(element, attrs) {\r\n                if ( typeof attrs.templateUrl == 'undefined' ) {\r\n                    return 'template/ngCart/addtocart.html';\r\n                } else {\r\n                    return attrs.templateUrl;\r\n                }\r\n            },\r\n            link:function(scope, element, attrs){\r\n                scope.attrs = attrs;\r\n                scope.inCart = function(){\r\n                    return  ngCart.getItemById(attrs.id);\r\n                };\r\n\r\n                if (scope.inCart()){\r\n                    scope.q = ngCart.getItemById(attrs.id).getQuantity();\r\n                } else {\r\n                    scope.q = parseInt(scope.quantity);\r\n                }\r\n\r\n                scope.qtyOpt =  [];\r\n                for (var i = 1; i <= scope.quantityMax; i++) {\r\n                    scope.qtyOpt.push(i);\r\n                }\r\n\r\n            }\r\n\r\n        };\r\n    }])\r\n\r\n    .directive('ngcartCart', [function(){\r\n        return {\r\n            restrict : 'E',\r\n            controller : 'CartController',\r\n            scope: {},\r\n            templateUrl: function(element, attrs) {\r\n                if ( typeof attrs.templateUrl == 'undefined' ) {\r\n                    return 'template/ngCart/cart.html';\r\n                } else {\r\n                    return attrs.templateUrl;\r\n                }\r\n            },\r\n            link:function(scope, element, attrs){\r\n\r\n            }\r\n        };\r\n    }])\r\n\r\n    .directive('ngcartSummary', [function(){\r\n        return {\r\n            restrict : 'E',\r\n            controller : 'CartController',\r\n            scope: {},\r\n            transclude: true,\r\n            templateUrl: function(element, attrs) {\r\n                if ( typeof attrs.templateUrl == 'undefined' ) {\r\n                    return 'template/ngCart/summary.html';\r\n                } else {\r\n                    return attrs.templateUrl;\r\n                }\r\n            }\r\n        };\r\n    }])\r\n\r\n    .directive('ngcartCheckout', [function(){\r\n        return {\r\n            restrict : 'E',\r\n            controller : ('CartController', ['$rootScope', '$scope', 'ngCart', 'fulfilmentProvider', function($rootScope, $scope, ngCart, fulfilmentProvider) {\r\n                $scope.ngCart = ngCart;\r\n\r\n                $scope.checkout = function () {\r\n                    fulfilmentProvider.setService($scope.service);\r\n                    fulfilmentProvider.setSettings($scope.settings);\r\n                    fulfilmentProvider.checkout()\r\n                        .success(function (data, status, headers, config) {\r\n                            $rootScope.$broadcast('ngCart:checkout_succeeded', data);\r\n                        })\r\n                        .error(function (data, status, headers, config) {\r\n                            $rootScope.$broadcast('ngCart:checkout_failed', {\r\n                                statusCode: status,\r\n                                error: data\r\n                            });\r\n                        });\r\n                }\r\n            }]),\r\n            scope: {\r\n                service:'@',\r\n                settings:'='\r\n            },\r\n            transclude: true,\r\n            templateUrl: function(element, attrs) {\r\n                if ( typeof attrs.templateUrl == 'undefined' ) {\r\n                    return 'template/ngCart/checkout.html';\r\n                } else {\r\n                    return attrs.templateUrl;\r\n                }\r\n            }\r\n        };\r\n    }]);\r\n"]}